{% extends 'baseBack.html.twig' %}

{% block title %}Liste des abonnements{% endblock %}

{% block body %}

{% for message in app.flashes('notice') %}
    <div class="alert alert-success ">
        {{ message }}
    </div>
{% endfor %}

<h1 style="text-align: left;" >Liste des abonnements</h1>
<br>
<table class="table" style="text-align: center;">
    <tr style="text-align: center; vertical-align: middle;">
        <th>ID</th>
        <th>Nom</th>
        <th>Type</th>
        <th>Description</th>
        <th>Prix</th>
        <th>Date d√©but</th>
        <th>Date fin</th>
        <th>Salle</th>
        <th>Editer</th>
    </tr>
    {% for a in Abonnements %}
    <tr style="text-align: center; vertical-align: middle;">
        <td>
            {{a.getId()}}
        </td>
        <td>
            {{a.getNomA()}}
        </td>
        <td>
            {{a.getTypeA()}}
        </td>
        <td>
            {{a.getDescriptionA()}}
        </td>
        <td>
            {{a.getPrixA()}}TND
        </td>
        <td>
            {{a.getDebutA()|date("d/m/Y")}}
        </td>
        <td>
            {{a.getFinA()|date("d/m/Y")}}
        </td>
        <td>
            <ul>
                {% for s in a.getSalleA() %}
                    <li>
                    {{s.getNomS()}}
                    </li>
                {% endfor %}
            </ul>
        </td>
        <td>
            <div style="text-align: center;">
                <a href="{{path('Update_Abonnement',{'id':a.id})}}" class="btn btn-warning mt-2" type="submit" >Modifier</a> 
                <a href="{{path('Delete_Abonnement',{'id':a.id})}}" class="btn btn-danger mt-2" type="submit" >Supprimer</a>
            </div>
        </td>
    </tr>
    {% else %}
    <tr>
        <td colspan="4" style="text-align: center;">no records found</td>
    </tr>
    {% endfor %}
</table>
<div style="text-align: center;">
    <br>
    <a href="{{path('Create_Abonnement')}}" class="btn btn-primary mt-2" type="submit" style="text-align: center;">Ajouter un abonnement</a>
    <br>
    <a href="{{path('Create_Salle')}}" class="btn btn-primary mt-2" type="submit" style="text-align: center;">Ajouter un salle</a>
    <br>
    <br>
</div>
{% endblock %}